var Model={jp:{vocab:{index:1,ls:[],words:[]}}},View={jp:{vocab:{render_list:function(){$(".jp.vocab .vocab-list").html(""),$(".jp.vocab").removeClass("loading");for(var a=M.jp.vocab.words,b=0;b<a.length;b++){var c=document.createElement("div"),d=a[b].kj.split(",").join(""),e=a[b].fg.split(",").join(""),f=a[b].t,g=a[b].d,h=d+" "+e+" ("+f+") "+g;h+=" <a href='javascript:;' class='edit-btn' id='jp-edit-"+a[b].i+"'>edit</a>",h+=" <a href='javascript:;' class='del-btn' id='jp-del-"+a[b].i+"'>delete</a>",h+="<br>",c.innerHTML=h,c.setAttribute("class","word"),c.setAttribute("data-index",a[b].i);"#jp-edit-"+a[b].i,"#jp-del-"+a[b].i;$(".jp.vocab .vocab-list").append(c),void 0!==a[b].f?c.setAttribute("data-src","local"):c.setAttribute("data-src","json"),b===a.length-1&&$(".jp.vocab .vocab-list").removeClass("hidden")}},edit:{update_fgInputs:function(){var a=$(".jp .word-input").val().split("");V.jp.vocab.edit.render_fgInputs(a)},render_fgInputs:function(a){var b=document.createDocumentFragment();if(a.constructor===Array)for(var c=0;c<a.length;c++){var d=document.createElement("span");d.setAttribute("class","fg-group"),d.innerHTML="<input type='text' class='fg-input' id='fg-input"+c+"'></input><br>"+a[c],b.appendChild(d)}else{var d=document.createElement("span");d.setAttribute("class","fg-group"),d.innerHTML="<input type='text' class='fg-input' id='fg-input0'></input><br>"+a,b.appendChild(d)}$(".jp .fg-inputs").html(b)},expand_fgInputs:function(){V.jp.vocab.edit.update_fgInputs(),setTimeout(function(){$(".jp .fg-input, .jp .fg-group").addClass("expanded"),V.display_none([".jp .btn.step2",".jp .btn.step1"])},10)},reading:function(){V.display_none([".jp .word-input",".jp .fg-inputs"]),V.jp.vocab.edit.expand_fgInputs()},special_reading:function(){var a=$(".jp .word-input").val();V.display_none(["#jp-normal-rdg","#jp-special-rdg"]),V.jp.vocab.edit.render_fgInputs(a),$(".jp .fg-input, .jp .fg-group").addClass("expanded")},normal_reading:function(){var a=$(".jp .word-input").val().split("");V.display_none(["#jp-normal-rdg","#jp-special-rdg"]),V.jp.vocab.edit.render_fgInputs(a),$(".jp .fg-input, .jp .fg-group").addClass("expanded")},back_to_word:function(){$(".jp .fg-input, .jp .fg-group").removeClass("expanded"),setTimeout(function(){V.display_none([".jp .btn.step1",".jp .fg-inputs",".jp .word-input"]),$(".jp .btn.step2, #jp-normal-rdg").addClass("display-none"),$(".jp .word-input").focus(),V.jp.vocab.edit.update_fgInputs()},500)},reset_form:function(){$(".jp .word-input").val(""),V.jp.vocab.edit.back_to_word(),$(".jp .word-type option:first-child").attr("selected","selected"),$(".jp .word-def").val(""),V.display_none("#jp-normal-rdg")}}}},goto_page:function(a){for(var b=$(".page"),c=0;c<b.length;c++)$(b[c]).hasClass("show")&&$(b[c]).removeClass("show").addClass("hidden");setTimeout(function(){$(a).removeClass("hidden").addClass("show")},200)},show_overlay:function(a){$(".overlay").removeClass("hidden"),$(".overlay .popup .prompt, .overlay .popup .btns").html("");for(var b=a.msgs,c=a.btns,d=a.funcs,e=0;e<b.length;e++){var f=document.createElement("span");f.setAttribute("class","msg"),f.innerHTML=b[e],$(".overlay .popup .prompt").append(f)}for(var e=0;e<c.length;e++){var g=document.createElement("a");g.setAttribute("class","popup-btn"),g.innerHTML=c[e],$(".overlay .popup .btns").append(g),"function"==typeof d[e]&&$(g).on("click",d[e])}},hide_overlay:function(){$(".overlay").addClass("hidden")},display_none:function(a){if(a.constructor===Array)for(var b=0;b<a.length;b++)$(a[b]).toggleClass("display-none");else $(a).toggleClass("display-none")}},V=View,M=Model;